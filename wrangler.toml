name = "blog-worker"
main = "worker/src/index.ts"
compatibility_date = "2024-01-01"

# D1 数据库配置
[[d1_databases]]
binding = "DB"
database_name = "blog-db"
database_id = "${CLOUDFLARE_D1_DATABASE_ID}"

# KV 命名空间配置
[[kv_namespaces]]
binding = "BLOG_CACHE"
id = "${CLOUDFLARE_KV_NAMESPACE_ID}"

[build]
command = "npm run build"

[site]
bucket = ".next"
pages_build_output_dir = ".next"

[env.production]
workers_dev = true 